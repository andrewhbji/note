# 业务 module 说明

## 依赖关系

以app为例, 必须依赖 appbase. 接入push 需要依赖txpushlib. indexbar用于通讯录的快速索引功能

## 源码说明

- *.app.App: 系统Application类的子类,初始化Push接口和异步通信框架volley
- *.base.AbstractBaseActivity: UI框架
- *.base.BaseActivityImpl: 继承AbstractBaseActivity,实现:
	- 填充主界面侧滑菜单icon 文本
	- 填充当前活动帐号信息
	- 主菜单点击事件
	- 登录逻辑
	- 预加载数据
-HttpRequest: 用于Volley框架的通用HttpRequest对象
- *.base.RecentTaskStyler: 生成任务管理器内的样式
- *.base.LoginAndAuthHelper: 授权Helper，实现授权，注册推送服务逻辑
- *.base.Callback： LoginAndAuthHelper的回调接口，在BaseActivityImpl中使用
- *.base.AppDataHandler: 将各个业务中io包下的类配置在这里，在其中统一调用JSONHandler.process和JSONHandler.makeContentProviderOperations 解析JSON并对数据进行CURL操作

- *.contacts 通讯录业务代码
	- *.contacts.io 更新数据库
		- *.io.ContactsHandler 更新Contact数据库
		- *.io.ContactTypeHandler 更新ContactsType数据库
	- *.model dao类
		- *.model.Contact: Contact 数据
		- *.model.ContactType: ContactType数据
		- *.model.ContactTypeMetaData: 从ContactsType数据库获取数据,排序并重新封装成MetaData,用于生成通讯录类型下拉切换组件
	- *.ui UI类
		- *.ui.BrowseContactsActivity: 通讯录列表的父容器,以及通讯录类型下拉切换组件
		- *.ui.ContactDetailActivity: 通讯录详情
		- *.ui.ContactsFragment: 通讯录列表
		- *.ui.SearchActivity: 匹配查询界面 目前实现了姓名,电话匹配查询

- *.jobs 领导工作安排业务代码
	- *.io 更新数据库
		- *.io.JobsHandler 更新Jobs数据库
	- *.model model类
		- *.model.Job: Job 数据
	- *.ui UI类
		- *.ui.BrowseJobsActivity: 工作列表、时间选择器
		- *.ui.JobEditorActivity: 工作详情编辑界面
		- *.ui.SimpleListView: 工作列表，使用LinearLayout 实现

- *.login 领导工作安排业务代码
	- *.model model类
		- *.model.LoginModel: 登录数据 
	- *LoginAction: 调用NetConnection实现登录方法
	- *LoginActivity: 登录界面

- *.observer: 观察者接口,用于接入push
- *.provider.Contract: 数据库字段,以及数据表URL
- *.provider.Database: 继承Android 系统SQLiteHelper,实现数据库初始化逻辑
- *.provider.Provider: 继承Android ContentProvider, 封装数据CURD
- *.push.PushReceiver: 接收Push消息广播
- *.push.SetDeleteTagReceiver: 接收设置/删除Tag广播
- *.SplashScreenActivity: 闪屏界面

- *.sync 后台同步Server
	- *.sync.SyncAdapter: 继承AbstractThreadedSyncAdapter,被系统调度
	- *.sync.SyncService: sync必须的服务类，由系统调用创建服务，然后通过这个Server调用SyncAdapter
	- *.sync.SyncHelper: 实现同步业务
	- *.sync.SyncDataFetcher: 获取数据的工具，在Service线程中执行

## 资源说明
- color 使用xml生成UI组件配色
- drawable  使用xml生成ui组件
- drawable-*dpi 图片,点九图资源文件
- layout 布局文件
- menu 菜单描述
- raw.bootstrap_data.json 预加载数据
- values.colors 配置颜色值常量
- values.dimens 配置UI尺寸
- values.strings* 配置string常量
- values.style 样式文件
- values-* 其他分辨率下使用的资源文件
- xml.about_preference 关于界面显示内容
- xml.authenicator 配置系统账户框架
- xml.adapter 配置系统同步框架框架
- xml.seachable 配置系统搜索框架